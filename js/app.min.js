;(function(){"use strict";var app=document.querySelector("#app");var duration=120;var data={timer:duration,paused:true,done:false};var countdown;function setData(object){for(var key in object){if(object.hasOwnProperty(key)){data[key]=object[key]}}render()}function getData(){return JSON.parse(JSON.stringify(data))}function template(){var minutes=Math.floor(data.timer/60);var seconds=data.timer%60;var string="<p>"+minutes+":"+seconds.toString().padStart(2,"0")+"</p>"+"<p class='di'>"+"<button class='ma1 f3' type='button'"+(data.done?" disabled":"")+">"+(data.paused?"Start":"Pause")+"</button>"+"</p>"+"<p class='di'><button class='ma1 f3' type='button'>Reset</button></p>";return string}function render(){if(app.innerHTML===template())return;app.innerHTML=template()}function update(){var dataCopy=getData();dataCopy.timer-=1;dataCopy.done=dataCopy.timer===0?true:false;setData(dataCopy);if(data.done){window.clearInterval(countdown)}}function startStop(start){var dataCopy=getData();dataCopy.paused=start?false:true;setData(dataCopy);if(start){countdown=window.setInterval(update,1e3)}else{window.clearInterval(countdown)}}function reset(){var dataCopy=getData();dataCopy.timer=duration;dataCopy.paused=true;dataCopy.done=false;setData(dataCopy);window.clearInterval(countdown)}function handleClicks(event){if(event.target.textContent==="Start"){startStop(true);return}if(event.target.textContent==="Pause"){startStop(false);return}if(event.target.textContent==="Reset"){reset(event);return}}render();app.addEventListener("click",handleClicks,false)})();
